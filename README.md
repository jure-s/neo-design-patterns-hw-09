# –î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è –¥–æ –¢–µ–º–∏ –ü–æ–≤–µ–¥—ñ–Ω–∫–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏: –®–∞–±–ª–æ–Ω–Ω–∏–π –º–µ—Ç–æ–¥ —Ç–∞ –Ü—Ç–µ—Ä–∞—Ç–æ—Ä

## –ß–∞—Å—Ç–∏–Ω–∞ 1 ‚Äî –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞—Ç–µ—Ä–Ω—É **–®–∞–±–ª–æ–Ω–Ω–∏–π –º–µ—Ç–æ–¥**

–£ —Ü—å–æ–º—É –¥–æ–º–∞—à–Ω—å–æ–º—É –∑–∞–≤–¥–∞–Ω–Ω—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –µ–∫—Å–ø–æ—Ä—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —É —Ñ–æ—Ä–º–∞—Ç–∏ CSV, JSON —Ç–∞ XML, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ø–∞—Ç–µ—Ä–Ω **–®–∞–±–ª–æ–Ω–Ω–∏–π –º–µ—Ç–æ–¥**.

### üîß –ú–µ—Ç–∞

- –≤–∏–æ–∫—Ä–µ–º–∏—Ç–∏ —Å—Ç–∞–ª—ñ –µ—Ç–∞–ø–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—É –µ–∫—Å–ø–æ—Ä—Ç—É –≤ –±–∞–∑–æ–≤–æ–º—É –∫–ª–∞—Å—ñ;
- —ñ–Ω–∫–∞–ø—Å—É–ª—é–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º —É –º–µ—Ç–æ–¥—ñ `export()` –±–µ–∑ —É–º–æ–≤–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π;
- —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∞—Ä—ñ–∞—Ç–∏–≤–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ `render()` —ñ `save()`;
- –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ hook-–º–µ—Ç–æ–¥–∏ `beforeRender()` —Ç–∞ `afterRender()` –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è.

### üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ–∫—Å–ø–æ—Ä—Ç—É

- **`DataExporter`** ‚Äî –±–∞–∑–æ–≤–∏–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å –∑ —à–∞–±–ª–æ–Ω–Ω–∏–º –º–µ—Ç–æ–¥–æ–º `export()`
- **`CsvExporter`**, **`JsonExporter`**, **`XmlExporter`** ‚Äî —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏
- **`XmlExporter`** –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—î `afterRender()`, –¥–æ–¥–∞—é—á–∏ –¥–∞—Ç—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ

### üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º –µ–∫—Å–ø–æ—Ä—Ç—É:

1. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ API:  
   `https://jsonplaceholder.typicode.com/users`
2. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è (–ø–æ–ª—è: `id`, `name`, `email`, `phone`) + —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ —ñ–º–µ–Ω—ñ
3. –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è (`render()`)
4. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É —Ñ–∞–π–ª (`save()`)

### üìÇ –§–∞–π–ª–∏ –µ–∫—Å–ø–æ—Ä—Ç—É

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É:
```bash
npx ts-node ./src/main.ts
```

–°—Ç–≤–æ—Ä—é—é—Ç—å—Å—è:

- `dist/users.csv`
- `dist/users.json`
- `dist/users.xml`

### üìå –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø—É—Å–∫—É

```ts
import { CsvExporter } from './exporters/CsvExporter';
import { JsonExporter } from './exporters/JsonExporter';
import { XmlExporter } from './exporters/XmlExporter';

const exporters = [new CsvExporter(), new JsonExporter(), new XmlExporter()];

(async () => {
  await Promise.all(exporters.map(e => e.export()));
})();
```

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2 ‚Äî –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞—Ç–µ—Ä–Ω—É **–Ü—Ç–µ—Ä–∞—Ç–æ—Ä**

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Ç—Ä–∏ –∫–ª–∞—Å–∏-—ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏ –¥–ª—è –æ–±—Ö–æ–¥—É —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ `CSV`, `JSON`, `XML`.

### üéØ –ú–µ—Ç–∞

- —Å—Ç–≤–æ—Ä–∏—Ç–∏ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏, —è–∫—ñ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å `Iterable<UserData>`;
- —ñ–Ω–∫–∞–ø—Å—É–ª—é–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É —á–∏—Ç–∞–Ω–Ω—è —Ç–∞ –ø–∞—Ä—Å–∏–Ω–≥—É;
- —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ñ—Ç–µ—Ä–∞—Ü—ñ—é –±–µ–∑ —É–º–æ–≤ ‚Äî –æ–∫—Ä–µ–º–∏–π –∫–ª–∞—Å –Ω–∞ –∫–æ–∂–µ–Ω —Ñ–æ—Ä–º–∞—Ç.

### üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä—ñ–≤

- **`CsvIterator`** ‚Äî –ø–∞—Ä—Å–∏—Ç—å `users.csv`
- **`JsonIterator`** ‚Äî —á–∏—Ç–∞—î –º–∞—Å–∏–≤ –∑ `users.json`
- **`XmlIterator`** ‚Äî –ø–∞—Ä—Å–∏—Ç—å `users.xml`, —ñ–≥–Ω–æ—Ä—É—é—á–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä —É –∫—ñ–Ω—Ü—ñ

–£—Å—ñ –∫–ª–∞—Å–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å `[Symbol.iterator]()` –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ `for...of`.

### üìå –ó–∞–ø—É—Å–∫

```bash
npx ts-node ./src/main-iterate.ts
```

### ‚úÖ –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É:

```bash
--- CSV ---
{ id: 5, name: 'Chelsey Dietrich', email: 'Lucio_Hettinger@annie.ca', phone: '(254)954-1289' }
...
--- JSON ---
...
--- XML ---
...
```

### üìå –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:

```ts
import { CsvIterator } from './iterators/CsvIterator';

for (const user of new CsvIterator('./dist/users.csv')) {
  console.log(user);
}
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
/
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ exporters/
    ‚îÇ   ‚îú‚îÄ‚îÄ DataExporter.ts     # –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å
    ‚îÇ   ‚îú‚îÄ‚îÄ CsvExporter.ts
    ‚îÇ   ‚îú‚îÄ‚îÄ JsonExporter.ts
    ‚îÇ   ‚îî‚îÄ‚îÄ XmlExporter.ts
    ‚îú‚îÄ‚îÄ iterators/
    ‚îÇ   ‚îú‚îÄ‚îÄ CsvIterator.ts
    ‚îÇ   ‚îú‚îÄ‚îÄ JsonIterator.ts
    ‚îÇ   ‚îî‚îÄ‚îÄ XmlIterator.ts
    ‚îú‚îÄ‚îÄ data/
    ‚îÇ   ‚îî‚îÄ‚îÄ UserData.ts         # –¢–∏–ø –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    ‚îú‚îÄ‚îÄ main.ts                 # –ï–∫—Å–ø–æ—Ä—Ç —É —Ñ–∞–π–ª–∏
    ‚îî‚îÄ‚îÄ main-iterate.ts         # –Ü—Ç–µ—Ä–∞—Ü—ñ—è –ø–æ —Ñ–∞–π–ª–∞—Ö
```

---

## üß© –Ø–∫ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç –µ–∫—Å–ø–æ—Ä—Ç—É

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–ª–∞—Å `NewFormatExporter`, —è–∫–∏–π –Ω–∞—Å–ª—ñ–¥—É—î—Ç—å—Å—è –≤—ñ–¥ `DataExporter`
2. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ `render()` —Ç–∞ `save()`
3. (–û–ø—Ü—ñ–π–Ω–æ) –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á—Ç–µ `beforeRender()` —á–∏ `afterRender()`
4. –î–æ–¥–∞–π—Ç–µ –π–æ–≥–æ —É –º–∞—Å–∏–≤ `exporters` –≤ `main.ts`

---

## üìù –í–∏–º–æ–≥–∏ –¥–æ –∑–∞–ø—É—Å–∫—É

- Node.js
- TypeScript
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

```bash
npm install
```

---

## ‚úÖ `.gitignore`

```gitignore
node_modules/
dist/
.env
```

---